module.exports=function(r){function e(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return r[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var t={};return e.m=r,e.c=t,e.i=function(r){return r},e.d=function(r,t,n){e.o(r,t)||Object.defineProperty(r,t,{configurable:!1,enumerable:!0,get:n})},e.n=function(r){var t=r&&r.__esModule?function(){return r.default}:function(){return r};return e.d(t,"a",t),t},e.o=function(r,e){return Object.prototype.hasOwnProperty.call(r,e)},e.p="",e(e.s=1)}([function(r,e,t){"use strict";function n(r){if(Array.isArray(r)){for(var e=0,t=Array(r.length);e<r.length;e++)t[e]=r[e];return t}return Array.from(r)}function o(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function r(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},u=function(){function r(r,e){var t=[],n=!0,o=!1,i=void 0;try{for(var a,u=r[Symbol.iterator]();!(n=(a=u.next()).done)&&(t.push(a.value),!e||t.length!==e);n=!0);}catch(r){o=!0,i=r}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return t}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return r(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(r){return"function"==typeof r[Symbol.iterator]},f=function(r){return r instanceof Map},c=function r(e,t){o(this,r),this.name=e,this.message=t},l=function r(e){o(this,r),this.name=e},y=function(r,e,t,n){f(e)?(n[r]={},h(e,t,n[r])):t.push(Promise.all(e).then(function(e){if(!(r instanceof l)){if(Array.isArray(r)){var t=0,o=!0,i=!1,a=void 0;try{for(var u,s=r[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var f=u.value;n[f]=e[t],t+=1}}catch(r){i=!0,a=r}finally{try{!o&&s.return&&s.return()}finally{if(i)throw a}}}else n[r]=e;return n}}))},h=function(r,e,t){var n=!0,o=!1,i=void 0;try{for(var a,s=r[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var f=a.value,c=u(f,2),l=c[0],y=c[1];v(l,y,e,t)}}catch(r){o=!0,i=r}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}},v=function(r,e,t,n){e&&("object"===(void 0===e?"undefined":a(e))?"function"==typeof e.then?t.push(Promise.resolve(e).then(function(e){if(!(r instanceof l))return Array.isArray(n)?n.push([r,e]):n[r]=e,n}).catch(function(e){throw new c(r,e.message)})):s(e)?y(r,e,t,n):n[r]=e:n[r]=e)},p=function(r,e,t){var n=[];return v(r,e,n,t),Promise.all(n)},m=function(){function r(){var e=this;o(this,r),this.promises=new Map,this.forEach=function(){var r;return(r=e.promises).forEach.apply(r,arguments)},this.keys=function(){return e.promises.keys()},this.get=function(){for(var r=arguments.length,t=Array(r),n=0;n<r;n++)t[n]=arguments[n];return e.resolve(t)},this.set=function(r,t){if(e.promises.has(r))throw new Error("Promise by key "+r+" already added, each must be unique");return e.promises.set(r,t),e},this.merge=function(r){if(!r||"object"!==(void 0===r?"undefined":a(r)))throw new Error("PromiseMap merge expects a plain object mapping keys to promises");var t=!0,n=!1,o=void 0;try{for(var i,u=Object.keys(r)[Symbol.iterator]();!(t=(i=u.next()).done);t=!0){var s=i.value,f=r[s];e.set(s,f)}}catch(r){n=!0,o=r}finally{try{!t&&u.return&&u.return()}finally{if(n)throw o}}return e},this.push=function(){for(var r=arguments.length,t=Array(r),n=0;n<r;n++)t[n]=arguments[n];var o=!0,i=!1,a=void 0;try{for(var u,s=t[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var f=u.value;e.set(new l,f)}}catch(r){i=!0,a=r}finally{try{!o&&s.return&&s.return()}finally{if(i)throw a}}},this.delete=function(){for(var r=arguments.length,t=Array(r),n=0;n<r;n++)t[n]=arguments[n];var o=[],i=!0,a=!1,u=void 0;try{for(var s,f=t[Symbol.iterator]();!(i=(s=f.next()).done);i=!0){var c=s.value;o.push(e.promises.delete(c))}}catch(r){a=!0,u=r}finally{try{!i&&f.return&&f.return()}finally{if(a)throw u}}return o},this.clear=function(){return e.delete(e.keys())},this.has=function(){for(var r=arguments.length,t=Array(r),n=0;n<r;n++)t[n]=arguments[n];return t.every(function(r){return e.promises.has(r)})},this.resolve=function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!r&&e.promises.size>0&&(r=[].concat(n(e.promises.keys()))),!Array.isArray(r)&&r)r=[r];else if(!r)return Promise.resolve(t);var i=!0,a=!1,u=void 0;try{for(var s,f=r[Symbol.iterator]();!(i=(s=f.next()).done);i=!0){var c=s.value,l=e.promises.get(c);e.promises.delete(c),l&&o.push(p(c,l,t))}}catch(r){a=!0,u=r}finally{try{!i&&f.return&&f.return()}finally{if(a)throw u}}return Promise.all(o).then(function(){return e.promises.size>0?e.resolve(void 0,t):t})},this.entries=function(){for(var r=arguments.length,t=Array(r),n=0;n<r;n++)t[n]=arguments[n];return e.resolve(t,[])},this[Symbol.iterator]=regeneratorRuntime.mark(function r(){var e,t,n,o,i,a,s,f;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:e=!0,t=!1,n=void 0,r.prev=3,o=this.promises[Symbol.iterator]();case 5:if(e=(i=o.next()).done){r.next=14;break}return a=i.value,s=u(a,1),f=s[0],r.next=11,this.resolve(f);case 11:e=!0,r.next=5;break;case 14:r.next=20;break;case 16:r.prev=16,r.t0=r.catch(3),t=!0,n=r.t0;case 20:r.prev=20,r.prev=21,!e&&o.return&&o.return();case 23:if(r.prev=23,!t){r.next=26;break}throw n;case 26:return r.finish(23);case 27:return r.finish(20);case 28:case"end":return r.stop()}},r,this,[[3,16,20,28],[21,,23,27]])}),this.then=function(r,t){return e.resolve().then(r).catch(t)},this.catch=function(r){return e.resolve().then().catch(r)}}return i(r,[{key:"size",get:function(){return this.promises.size}},{key:"length",get:function(){return this.promises.size}}]),r}();e.default=m},function(r,e,t){r.exports=t(0)}]);